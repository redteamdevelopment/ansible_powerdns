

 
---
 
# 开发提示词
 
## 0. 哲学
 
### 核心信念
 
* 渐进式进步优于大变革 - 小的变更能够编译通过并通过测试
* 从现有代码中学习 —— 在实现之前先研究和规划
* 实用主义优于教条主义 —— 适应项目的实际情况
* 清晰意图优于巧妙代码 - 保持简单和显而易见
 
### 简单意味着
 
* 每个函数/类只承担单一责任
* 避免过早抽象
 
---
 
## 1. 语言处理
 
* 我提供的所有中文输入，AI 助手在内部必须先转换为英文来进行处理和理解。
* AI 助手给我的所有最终回复必须是中文。
 
---
 
## 2. 代码与日志规范
 
* 所有代码都需要注释,并且使用标准化的文档注释格式，例如 JavaDoc, JSDoc (for JavaScript/TypeScript) 或 Python 的 Docstrings (Google or NumPy style)。这不仅方便人阅读，还能被工具自动解析生成文档。
* 所有项目,所有程序都必须添加详细的日志
* 日志必须严格使用英文。
 
---
 
## 3. 新项目/新功能启动流程
 
1. **需求接收**：我提供初始需求。
2. **细化与提问**：AI 助手分析请求，并提出具体问题以澄清细节。
3. **等待反馈**：AI 助手等待我对问题的回复。
4. **规划与文档**：在收到反馈后，AI 助手进一步思考，并提供规划与文档 (产出物应包括：技术方案设计、API 定义、数据模型、主要工作拆分等)。
5. **方案评审 (Review)**：我（作为项目负责人）需要对 AI 提供的计划进行评审和确认。这是确保方向正确无误的关键一步。
6. **执行与交付 (Implementation & Delivery)**：分阶段、分步骤执行。每个小阶段完成后都应该有一个可演示的交付物。
7. **测试与验证 (Testing & QA)**：明确测试环节，包括单元测试、集成测试等。
8. **反馈与迭代 (Feedback & Iteration)**：基于测试结果和我的反馈，返回到规划或执行环节进行调整。
 
---
 
## 4. 终端命令执行
 
* 现有规则：逐条执行，禁止使用 `&&`。
 
---
 
## 5. Bug 记录
 
* 每次程序出现了 bug，尝试解决成功以后，都需要把出现 bug 的文件名字和文件代码位置，解决的方案，同步追加到项目文件目录里的 **problem.md** 上。
 
* 为了方便查阅和复盘，建议为每一条记录规定一个模板，例如使用 Markdown 格式：
 
```markdown
---
### Bug: [用一句话简短描述问题]
 
- **发生时间 (Timestamp):** 2025-08-16 16:00
- **影响范围 (Affected Files/Modules):**
  - `src/core/payment.js` (Line 152)
- **问题描述 (Problem Description):** 在特定条件下，计算订单折扣时出现浮点数精度问题。
- **根本原因分析 (Root Cause Analysis):** JavaScript 在处理浮点数加减时固有的精度限制导致。
- **解决方案 (Solution):** 引入 `Decimal.js` 库替代原生浮点数运算，确保计算精度。
- **后续措施 (Follow-up Actions):** 编写单元测试覆盖此场景，对项目中其他金额计算部分进行排查。
```
 
---
 
### 遇到困难时（尝试 3 次后）
 
**至关重要：每个问题最多尝试 3 次，然后停止。**
 
1. **记录失败的内容**：
 
   * 你尝试了什么
   * 具体的错误信息
   * 你认为它为什么会失败
 
2. **研究替代方案**：
 
   * 找到 2-3 个相似的实现
   * 注意其中使用的不同方法
 
3. **质疑基本原理**：
 
   * 这是否是正确的抽象层级？
   * 这个问题能否被拆分成更小的问题？
   * 是否有完全更简单的方法？
 
4. **从不同角度尝试**：
 
   * 使用不同的库/框架特性？
   * 使用不同的架构模式？
   * 移除抽象而不是增加抽象？
 
---
 
## 重要提醒
 
### 永远不要：
 
* 使用 `--no-verify` 跳过提交钩子
* 禁用测试而不是修复它们
* 提交无法编译的代码
* 做假设 —— 应该通过现有代码验证
 
### 永远要：
 
* 渐进式提交可运行的代码
* 随时更新计划文档
* 从现有实现中学习
* 在连续 3 次失败尝试后停止并重新评估
* 每次发现错误，请先查看下 `@problem.md` 有没有类似的错误，以及文档当中如果解决的。
 
---


